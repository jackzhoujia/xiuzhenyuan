<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="TaskOne.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <button onclick="start()">开始闪</button>
    <button onclick="stop()">结束闪</button>
    <script>
        var backgroundColor = new Array;//随机数
        var randomNumber = new Array;//随机颜色
        var box = document.getElementsByClassName("box");//获取方块元素节点
        var time;//用于循环与停止循环的变量
        var buttons;//获取开始按钮的元素节点
        //开始
        function start() {
            time = setInterval("showPic()", 500);//循环showPic方法并赋值给变量time
            //设置开始按钮为已点击状态
            buttons = document.getElementsByTagName("button")[0]
            buttons.disabled = true;
        }
        //结束
        function stop() {
            initializeColor();//初始化颜色
            clearInterval(time);//清楚循环
            buttons.disabled = false;//设置开始按钮为未点击状态
        }
        //为随机三个放开各自设置随机颜色
        function showPic() {
            initializeColor();//初始化颜色
            makeColor();//获取存放随机颜色的数组与随机数
            //设置随机颜色
            for (var i = 0; i < 3; i++) {
                box[randomNumber[i]].style.backgroundColor = backgroundColor[i];
            }
        }
        //初始化颜色
        function initializeColor() {
            for (var i = 0; i < 9; i++) {
                box[i].style.backgroundColor = "rgb(255,166,0)";
            }
        }
        //获取随机颜色
        function makeColor() {
            var Numbers = new Array;//存放随机数
            var Colors = new Array;//存放随机颜色
            for (var i = 0; i >= 0; i++) {
                for (var i = 0; i < 3; i++) {
                    var a = Math.round(Math.random() * 255);
                    var b = Math.round(Math.random() * 255);
                    var c = Math.round(Math.random() * 255);
                    var color = "rgb(" + a + "," + b + "," + c + ")";
                    Colors.push(color);
                }
                if (Colors[0] != Colors[1] && Colors[1] != Colors[2] && Colors[2] != Colors[0]) {
                    backgroundColor = Colors;
                    break;
                } else {
                    Colors = [];
                }
            }
            //获取随机数
            for (var i = 0; i >= 0; i++) {
                for (var i = 0; i < 3; i++) {
                    var Number = Math.round(Math.random() * 8);
                    Numbers.push(Number);
                }
                if (Numbers[0] != Numbers[1] && Numbers[1] != Numbers[2] && Numbers[2] != Numbers[0]) {
                    randomNumber = Numbers;
                    break;
                } else {
                    Numbers = [];
                }
            }
        }
    </script>

</html>